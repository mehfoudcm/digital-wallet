# Introduction
Thousands of digital wallet transactions occur every second for Paymo, and these methods have become an easy and quick way to distribute funds. Because it is so accessible it has also become a focus for criminal minded users to steal money via fraudulent transactions/requests for payments. For this challenge, I have built an algorithm that helps indicate possible fraudulent interactions and will allow Paymo to notify payers if their transaction is suspect. 

Overall, the algorithm is built in python, and majority of the runtime deals with building and understanding the historical transaction information. Within Paymo, and with more time, more effort should be focused on analyzing this information, and possibly building models to establish parameters that could be useful to the algorithm that handles streaming payments. 

The algorithm contains five features that verifies transactions that are sent through as a group of payments. The first three features pertain to the connectivity of people making transactions. In order to understand the connectivity of the users and history of transactions, we will break down a network and the method of the algorithm. 

Networks, and social networks, are graphs of connections, or edges, between people, or nodes, where paths and properties about paths exist and can tell us about the inter-connectivity and other characteristics of the graph and people in it. In this case, the history of transactions, represented by the batch of payments indicates a system of payers and receivers as nodes, and edges as the transactions between them. If we list these edges with equal weights (let us set this equal to one), then everywhere there is a shortest path with the length of one, there is a direct connection between nodes, or users. In other words, if the two users have previously made a transaction, then they will be direct connections, or have the minimum length of the network. By using a package that builds a network and a function that follows through a breadth-first-search algorithm like Dijkstra's algorithm, we captured the shortest distance from one user to another in a non-directional graph. (Dijkstra's algorithm goes through each node only adding the lowest cost path until it completes the route from the source, origin or payer, to sink, destination or receiver.)

#Features 1 through 3

This algorithm is not the most efficient way to find out if two nodes are connected; however, if we are to implement the following two features, we should not take short cuts early. The first feature finds only where the shortest path between two nodes is one, and the second feature finds only where the shortest path between two nodes is one or two. Likewise, the third feature follows through with the same logic; where the length of the shortest path between two users is four or less (but at least one), the transaction will be verified. When the shortest path is two, that means there is a user that connects two edges to the two users. Likewise, when the paths are three and four, there are two and three users along the path of previous transactions between the two users of focus. This establishes the first three features and creates the three original output files as requested. The following depicts the distribution from the main streamed payments file requested for input.



<img src="./images/degree1.png" width="800">

#Messages

The messages come from real Venmo transactions. These can be incredibly interesting and a lot of fun to read. My first assumption was that using these to detect fraud alone would not be helpful, because if I were acting fraudulently, I would try not to let my messages indicate this. While I cannot assume the intelligence of the fraudsters in the network, I do not believe that specific words or phrases alone can help detect fraud. Also, when discussing fraud here, I am referring to hacking methods of forcing payments from unaware users, and not money laundering, although the logic for both is consistent in many instances.

First, I believe that there are too many possible messages that could mean even more things. For example, with the plethora of emojis available and meanings behind those emojis, one should not be penalized by sending an emoji. 

Second, studying the distribution of the messages, the four most popular messages are "Food", "Uber", the pizza emoji, and the beer emoji. Using personal biases, I feel that these messages would be the most likely that I would use to distribute money via a digital wallet.

The third and final reason for not using the messages to determine fraud is that after a quick analysis of over a million payments, the distributions did not change for the most frequent payment recipients. In other words, after looking at the ten most frequent payment receivers (assuming, again, that id1 was sending money to id2), the distribution used carried the same distribution of messages used. This is seen in the graph below, the blue line is the distribution of the 40 most popular messages, and the red line is the distribution of the 40 most popular messages by the top ten most frequent users. This tells me that these elements of the data were fabricated, or that the fraudulent users hid their messages very well. In either case, I do not believe that messages could be used alone to detect fraud. The distribution of users with how it pertains to fraud will be mentioned later, but the user does not have control over their user identification, so it is different. Again, here, we will assume that even though the payer typically controls the message, in fraudulent transactions (where the payer is not in control), the receiver would probably insert this for the payer as a request for the money.

<img src="./images/messages.png" width="800">

It is also worth noting that the distribution of the real messages was duplicated, such that it keeps the same distribution but does not help one depict fraud. For example, it seems improbable that six different users established transactions with an independent set of six additional users all for the mission of feeding Tom after his Austin trip by saying, ``Groceries - hangry tom will have food to eat when he comes home from his Austin trip :)". I enjoy the addition of messages, and it complicates, slightly, the cleaning of the data, but for our purposes, extracting or interpreting fraud via message alone is not the best method.
